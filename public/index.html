<!DOCTYPE html>
<html>
<body>
    <h1>YouTube 2</h1>
    <a href="upload.html">Enviar vídeo</a>

    <div id="videos"></div>

    <script>
        async function load() {
            let r = await fetch("/list");
            let data = await r.json();

            let div = document.getElementById("videos");
            div.innerHTML = "";

            data.forEach(v => {
                div.innerHTML += `
                    <div>
                        <a href="watch.html?id=${v.id}">
                            Vídeo ${v.id}
                        </a>
                    </div>
                `;
            });
        }

        load();
    </script>
</body>
</html>